(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27ac5b42"],{"11e9":function(t,e,r){var n=r("52a7"),a=r("4630"),i=r("6821"),s=r("6a99"),o=r("69a8"),c=r("c69a"),l=Object.getOwnPropertyDescriptor;e.f=r("9e1e")?l:function(t,e){if(t=i(t),e=s(e,!0),c)try{return l(t,e)}catch(r){}if(o(t,e))return a(!n.f.call(t,e),t[e])}},"35ce":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"filters"},[t.showCategory?r("accordion",{attrs:{open:!0},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("\n      Категории\n    ")]},proxy:!0},{key:"body",fn:function(){return t._l(t.CATEGORY,(function(e){return r("div",{key:e.id,staticClass:"filters__item"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.category,expression:"filter.category"}],attrs:{type:"checkbox",id:"cat"+e.id},domProps:{value:e.id,checked:Array.isArray(t.filter.category)?t._i(t.filter.category,e.id)>-1:t.filter.category},on:{change:function(r){var n=t.filter.category,a=r.target,i=!!a.checked;if(Array.isArray(n)){var s=e.id,o=t._i(n,s);a.checked?o<0&&t.$set(t.filter,"category",n.concat([s])):o>-1&&t.$set(t.filter,"category",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.filter,"category",i)}}}),r("label",{attrs:{for:"cat"+e.id}},[t._v(t._s(e.title))]),r("span",{staticClass:"filters__count"},[t._v(t._s(e.count))])])}))},proxy:!0}],null,!1,955922746)}):t._e(),t.showDate?r("accordion",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v("\n      Дата\n    ")]},proxy:!0},{key:"body",fn:function(){return[r("v-date-picker",{attrs:{"is-range":"","is-expanded":!0},on:{input:t.onInputDate},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})]},proxy:!0}],null,!1,2012790572)}):t._e(),r("div",{staticClass:"filters__group-btn"},[r("button",{staticClass:"button-warning",on:{click:t.onFilter}},[t._v("\n      применить\n    ")]),r("button",{staticClass:"button-secondary mr-20",on:{click:t.filterCancel}},[t._v("\n      сбросить\n    ")])])],1)},a=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("96cf"),r("1da1")),s=r("ade3"),o=r("d54e"),c=r("2f62");function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f={name:"Filters",components:{Accordion:o["a"]},props:{showCategory:{type:Boolean,default:!0},showDate:{type:Boolean,default:!0},filterType:{type:String,required:!0}},data:function(){return{filter:{category:[],dateRange:null},dateRange:{start:new Date,end:new Date}}},computed:u({},Object(c["c"])("category",["CATEGORY"])),methods:u(u({},Object(c["b"])("category",["GET_CATEGORY_POST","GET_CATEGORY_EVENT","GET_CATEGORY_RESIDENTS_EVENT","GET_CATEGORY_STARTUP","GET_CATEGORY_RESIDENT"])),{},{onFilter:function(){this.$eventBus.$emit("filter-list",this.filter),this.$emit("filter-list",this.filter)},filterCancel:function(){this.filter.category=[],this.filter.dateRange=null,this.dateRange={start:new Date,end:new Date},this.$eventBus.$emit("filter-reset",this.filter),this.$emit("filter-reset",this.filter)},onInputDate:function(t){this.filter.dateRange={start:this.$moment(t.start).startOf("day").unix(),end:this.$moment(t.end).endOf("day").unix()}}}),mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=this.filterType,t.next="post"===t.t0?3:"event"===t.t0?6:"residents-event"===t.t0?9:"startup"===t.t0?13:"resident"===t.t0?16:19;break;case 3:return t.next=5,this.GET_CATEGORY_POST();case 5:return t.abrupt("break",19);case 6:return t.next=8,this.GET_CATEGORY_EVENT();case 8:return t.abrupt("break",19);case 9:if(!this.residentId){t.next=12;break}return t.next=12,this.GET_CATEGORY_RESIDENTS_EVENT(this.residentId);case 12:return t.abrupt("break",19);case 13:return t.next=15,this.GET_CATEGORY_STARTUP();case 15:return t.abrupt("break",19);case 16:return t.next=18,this.GET_CATEGORY_RESIDENT();case 18:return t.abrupt("break",19);case 19:this.$eventBus.$on("open-modal-filters",(function(t){"residents-event"===e.filterType&&t&&e.GET_CATEGORY_RESIDENTS_EVENT(t)}));case 20:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){this.$eventBus.$off("open-modal-filters")}},d=f,p=r("2877"),h=Object(p["a"])(d,n,a,!1,null,"2e88d984",null);e["a"]=h.exports},"456d":function(t,e,r){var n=r("4bf8"),a=r("0d58");r("5eda")("keys",(function(){return function(t){return a(n(t))}}))},"46f8":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page"},[r("div",{staticClass:"page__content"},[r("div",{staticClass:"page__header"},[r("div",{staticClass:"page__header-wrap"},[r("h1",{staticClass:"page__title"},[t._v("\n          Арт-резиденты\n        ")]),r("button",{staticClass:"filters__btn-icon page__filter-btn",on:{click:function(e){t.showFilters=!0}}},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"14",fill:"none",viewBox:"0 0 16 14"}},[r("path",{attrs:{fill:"#fff","fill-rule":"evenodd",d:"M.962 2.128V3.57c0 .13.047.255.131.353l4.157 4.85a.18.18 0 01.043.117v3.703a1.262 1.262 0 001.75 1.166l2.886-1.203c.471-.196.778-.656.778-1.166v-2.5a.18.18 0 01.043-.117l4.157-4.85a.54.54 0 00.13-.353V2.128c0-.526-.209-1.032-.58-1.404a1.989 1.989 0 00-1.404-.581H2.947c-.526 0-1.031.21-1.404.58a1.988 1.988 0 00-.58 1.405zM13.32 4.113H2.681l3.391 3.956c.196.229.304.52.304.822v3.703a.18.18 0 00.25.167l2.887-1.203a.181.181 0 00.111-.167v-2.5c0-.301.108-.593.304-.822l3.391-3.956zm.636-1.083v-.902a.904.904 0 00-.902-.902H2.947a.904.904 0 00-.902.902v.902h11.91z","clip-rule":"evenodd"}})])])])]),r("div",{staticClass:"page__body"},[r("div",{staticClass:"page__body-sidebar"},[r("div",{staticClass:"filter-sidebar",class:{"filter-sidebar--show":t.showFilters},on:{click:function(e){if(e.target!==e.currentTarget)return null;t.showFilters=!1}}},[r("div",{staticClass:"filter-sidebar__container"},[r("filters",{attrs:{"filter-type":"resident","show-date":!1},on:{"filter-list":t.onFilter,"filter-reset":t.filterReset}})],1)])]),r("div",{staticClass:"page__body-content"},t._l(t.residents,(function(e,n){return r("div",{directives:[{name:"show",rawName:"v-show",value:e.users._items.length>0,expression:"residentsItem.users._items.length > 0"}],key:n,staticClass:"residents-category"},[e.users._items.length>0?r("h2",{staticClass:"residents__title"},[t._v("\n            "+t._s(e.category.title)+"\n          ")]):t._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:t.residents.length,expression:"residents.length"}],staticClass:"residents-cards"},t._l(e.users._items,(function(t){return r("resident-card",{key:t.id,attrs:{user:t,id:t.id}})})),1)])})),0)])])])},a=[],i=(r("ac6a"),r("96cf"),r("1da1")),s=r("bc3a"),o=r.n(s),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-link",{staticClass:"residents-card",attrs:{to:"/resident/"+t.id}},[r("div",{staticClass:"residents-card__img"},[r("img",{attrs:{src:t.user.avatar.url,alt:"photo",width:"260",height:"150"}})]),r("div",{staticClass:"residents-card__wrap"},[r("div",{staticClass:"residents-card__name"},[t._v("\n      "+t._s(t.user.full_name)+"\n    ")]),r("div",{staticClass:"residents-card__rating"},[r("star-rating",{attrs:{"star-size":20,rating:t.user.rating,"read-only":!0}})],1),r("div",{staticClass:"residents-card__footer"},[r("div",{staticClass:"residents-card__count-startup"},[r("span",[t._v(t._s(t.user.startupsCount))]),t._v("\n        "+t._s(t.getNoun(t.user.startupsCount,"стартап","стартапа","стартапов"))+"\n      ")]),r("div",{staticClass:"residents-card__count-event"},[r("span",[t._v(t._s(t.user.eventsCount))]),t._v("\n        "+t._s(t.getNoun(t.user.eventsCount,"событие","события","событий"))+"\n      ")])])])])},l=[],u=(r("c5f6"),r("5b3d")),f=r.n(u),d=r("e09c"),p={name:"ResidentCard",mixins:[d["a"]],components:{StarRating:f.a},props:{user:{type:Object,default:function(){}},id:{type:Number,default:null}}},h=p,_=r("2877"),g=Object(_["a"])(h,c,l,!1,null,"6871b3a2",null),v=g.exports,y=r("35ce"),b={name:"ResidentsPage",components:{Filters:y["a"],ResidentCard:v},data:function(){return{residents:[],pageData:[],showFilters:!1,filters:{category:[]},currentPage:1,perPage:20}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new URL("".concat("https://api.art-kvadrat.dev2uit.ru","/v1/user/category-groups")),this.filters&&Array.isArray(this.filters.category)&&this.filters.category.forEach((function(t){return e.searchParams.append("category_id[]",t)})),r=this.$loading.show(),t.next=5,o.a.get(e).then((function(t){n.residents=t.data,n.pageData=t.data._meta,r.hide()})).catch((function(t){t.response||(n.$toasted.global.error("Нет соединения с сервером"),r.hide()),n.$toasted.global.error(t.response.data.message),r.hide()}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadMore:function(){this.currentPage++,this.loadData()},onFilter:function(t){this.currentPage=1,this.filters.category=t.category,this.showFilters=!1,this.loadData()},filterReset:function(){this.currentPage=1,this.filters.category=[],this.showFilters=!1,this.loadData()}},computed:{showMore:function(){return this.pageData.pageCount>this.pageData.currentPage}}},m=b,C=Object(_["a"])(m,n,a,!1,null,"3079d890",null);e["default"]=C.exports},4882:function(t,e,r){t.exports=r.p+"img/sprite.18f40b4f.svg"},"5dbc":function(t,e,r){var n=r("d3f4"),a=r("8b97").set;t.exports=function(t,e,r){var i,s=e.constructor;return s!==r&&"function"==typeof s&&(i=s.prototype)!==r.prototype&&n(i)&&a&&a(t,i),t}},"5eda":function(t,e,r){var n=r("5ca1"),a=r("8378"),i=r("79e5");t.exports=function(t,e){var r=(a.Object||{})[t]||Object[t],s={};s[t]=e(r),n(n.S+n.F*i((function(){r(1)})),"Object",s)}},"8b97":function(t,e,r){var n=r("d3f4"),a=r("cb7c"),i=function(t,e){if(a(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,r){return i(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:i}},"8e6e":function(t,e,r){var n=r("5ca1"),a=r("990b"),i=r("6821"),s=r("11e9"),o=r("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(t){var e,r,n=i(t),c=s.f,l=a(n),u={},f=0;while(l.length>f)r=c(n,e=l[f++]),void 0!==r&&o(u,e,r);return u}})},9093:function(t,e,r){var n=r("ce10"),a=r("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,a)}},"990b":function(t,e,r){var n=r("9093"),a=r("2621"),i=r("cb7c"),s=r("7726").Reflect;t.exports=s&&s.ownKeys||function(t){var e=n.f(i(t)),r=a.f;return r?e.concat(r(t)):e}},aa77:function(t,e,r){var n=r("5ca1"),a=r("be13"),i=r("79e5"),s=r("fdef"),o="["+s+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),f=function(t,e,r){var a={},o=i((function(){return!!s[t]()||c[t]()!=c})),l=a[t]=o?e(d):s[t];r&&(a[r]=l),n(n.P+n.F*o,"String",a)},d=f.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},ac6a:function(t,e,r){for(var n=r("cadf"),a=r("0d58"),i=r("2aba"),s=r("7726"),o=r("32e9"),c=r("84f2"),l=r("2b4c"),u=l("iterator"),f=l("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=a(p),_=0;_<h.length;_++){var g,v=h[_],y=p[v],b=s[v],m=b&&b.prototype;if(m&&(m[u]||o(m,u,d),m[f]||o(m,f,v),c[v]=d,y))for(g in n)m[g]||i(m,g,n[g],!0)}},ade3:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))},c5f6:function(t,e,r){"use strict";var n=r("7726"),a=r("69a8"),i=r("2d95"),s=r("5dbc"),o=r("6a99"),c=r("79e5"),l=r("9093").f,u=r("11e9").f,f=r("86cc").f,d=r("aa77").trim,p="Number",h=n[p],_=h,g=h.prototype,v=i(r("2aeb")(g))==p,y="trim"in String.prototype,b=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():d(e,3);var r,n,a,i=e.charCodeAt(0);if(43===i||45===i){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>a)return NaN;return parseInt(c,n)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof h&&(v?c((function(){g.valueOf.call(r)})):i(r)!=p)?s(new _(b(e)),r,h):b(e)};for(var m,C=r("9e1e")?l(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;C.length>E;E++)a(_,m=C[E])&&!a(h,m)&&f(h,m,u(_,m));h.prototype=g,g.constructor=h,r("2aba")(n,p,h)}},d54e:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"accordion"},[n("div",{staticClass:"accordion__item"},[n("div",{staticClass:"accordion__header",class:{"accordion__header--open":t.toggle},on:{click:t.headerClick}},[t._t("header"),n("svg",{staticClass:"accordion__header-icon"},[n("use",{attrs:{href:r("4882")+"#icon-arrow-right"}})])],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}],staticClass:"accordion__body"},[t._t("body")],2)])])},a=[],i={name:"Accordion",props:{open:{type:Boolean,default:null}},data:function(){return{toggle:!1}},mounted:function(){null!==this.open&&(this.toggle=this.open)},methods:{headerClick:function(){this.toggle=!this.toggle,this.$emit("click")}}},s=i,o=r("2877"),c=Object(o["a"])(s,n,a,!1,null,"788be709",null);e["a"]=c.exports},f1ae:function(t,e,r){"use strict";var n=r("86cc"),a=r("4630");t.exports=function(t,e,r){e in t?n.f(t,e,a(0,r)):t[e]=r}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-27ac5b42.b8f6cd2d.js.map